{"version":3,"sources":["ReactFirebaseGallery/firebase.js","ReactFirebaseGallery/components/Gallery.jsx","App.js","reportWebVitals.js","index.js"],"names":["firestore","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","database","images","collection","createdAt","FieldValue","serverTimestamp","Gallery","useState","file","setFile","progress","setProgress","error","setError","setImages","types","useEffect","storageRef","ref","name","put","on","snapshot","transferPercent","bytesTransferred","totalBytes","a","getDownloadURL","awaitUrl","add","url","onSnapshot","docs","forEach","value","push","data","id","console","log","Container","className","icon","faFileUpload","type","onChange","e","selected","target","files","includes","style","opacity","position","left","height","role","width","aria-valuenow","aria-valuemin","aria-valuemax","Alert","varaint","length","map","image","Col","md","lg","href","rel","motion","img","src","alt","initial","animate","transition","delay","Navbar","bg","fixed","variant","Brand","color","Nav","Link","faGithub","faLinkedinIn","faInstagram","faFacebookF","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a2c191de.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport  'firebase/firestore'\r\nimport 'firebase/storage'\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: \"AIzaSyAAgNfJiQfiYQC2Xa97t1rLIaVhUrCBChA\",\r\n  authDomain: \"imagegallery-35cb3.firebaseapp.com\",\r\n  projectId: \"imagegallery-35cb3\",\r\n  storageBucket: \"imagegallery-35cb3.appspot.com\",\r\n  messagingSenderId: \"264337640\",\r\n  appId: \"1:264337640:web:ed54a9afbdd84b16ca715d\",\r\n  measurementId: \"G-DV7SXF2KVD\"\r\n})\r\nconst firestore = app.firestore()\r\nexport const storage = firebase.storage()\r\nexport const database = {\r\n  images: firestore.collection('images'),\r\n  createdAt: firebase.firestore.FieldValue.serverTimestamp\r\n}","import React,{useEffect, useState} from 'react'\r\nimport { Container, Col, Nav, Navbar, Alert } from 'react-bootstrap'\r\n//import { Form } from 'react-bootstrap'\r\nimport { motion } from 'framer-motion'\r\nimport {database, storage} from '../firebase'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faFileUpload } from '@fortawesome/free-solid-svg-icons'\r\n// import { faHeart } from '@fortawesome/free-solid-svg-icons'\r\nimport { faInstagram, faGithub, faFacebookF, faLinkedinIn} from '@fortawesome/free-brands-svg-icons'\r\n\r\nexport default function Gallery() {\r\n  const [file, setFile] = useState(null)\r\n  const [progress, setProgress] = useState(0)\r\n  const [error, setError] = useState(null)\r\n  const [images, setImages] = useState([])\r\n  const types = ['image/png', 'image/jpeg', 'image/jpg']\r\n  let collection = database.images\r\n\r\n  function handleChange(e){\r\n    let selected = e.target.files[0]\r\n    if (selected && types.includes(selected.type)) {\r\n      setFile(selected)\r\n      setError('')\r\n    } else {\r\n      setFile(null)\r\n      setError('Please select an image file (png or jpg)')\r\n    }\r\n    console.log(file)\r\n  }\r\n\r\n  useEffect(() => {\r\n  if(file){ \r\n    const storageRef = storage.ref(file.name)\r\n    storageRef.put(file).on('state_changed',snapshot => {\r\n      let transferPercent = (snapshot.bytesTransferred/snapshot.totalBytes)*100\r\n      setProgress(transferPercent)\r\n    }, (error)=> {\r\n      setError(error)\r\n    },async ()=> {\r\n      let awaitUrl = await storageRef.getDownloadURL()\r\n      await database.images.add({\r\n        url: awaitUrl,\r\n        createdAt: database.createdAt()\r\n      })\r\n      setProgress(0)\r\n    })\r\n  }}, [file])\r\n\r\n  useEffect(() => {\r\n    return collection.onSnapshot((snapshot)=>{\r\n      let docs = []\r\n      snapshot.forEach(value => {\r\n        docs.push({...value.data(), id: value.id})\r\n      })\r\n      setImages(docs)\r\n      console.log(docs)\r\n    })\r\n  }, [collection])\r\n\r\n  return (\r\n    <Container className=\"py-3\">\r\n      <h1 className=\"heading my-4\">React <div className=\"heading2\">Firebase Gallery</div></h1>\r\n      <Container className=\"d-flex justify-content-center flex-column\">\r\n        <label className=\"btn btn-primary\">\r\n          <FontAwesomeIcon icon={faFileUpload} />\r\n          <input\r\n            type=\"file\"\r\n            onChange={handleChange}\r\n            style={{ opacity: 0, position: \"absolute\", left: \"-9999px\" }}\r\n          />\r\n        </label>\r\n        <div className=\"progress my-3\" style={{height: \"1px\"}}>\r\n          <div className=\"progress-bar\" role=\"progressbar\" style={{ width: progress + '%'}} aria-valuenow={progress + \"%\"} aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\r\n        </div>\r\n      </Container>\r\n      <Container>\r\n        {error && <Alert varaint=\"primary\">Some error occured in uploading images</Alert>}\r\n        {images.length>0 &&(\r\n          <div className=\"row\">\r\n            {images.map(image => ( \r\n              <Col md={12} lg={4}>\r\n                <a href={image.url} target=\"_blank\" rel=\"noreferrer\">\r\n                  <motion.img\r\n                    src={image.url}\r\n                    alt=\"firebase error\"\r\n                    className=\"img-fluid mb-3\"\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    transition={{ delay: 1 }}\r\n                  />\r\n                </a>\r\n              </Col>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </Container>\r\n      <Container>\r\n        <Navbar bg=\"transparent\" fixed=\"bottom\" variant=\"light\" className=\"d-flex justify-content-between\">\r\n          <div><Navbar.Brand><strong style={{color: \"#05386b\"}}>Niku419</strong></Navbar.Brand></div>\r\n          <div>\r\n            <Nav className=\"mr-auto\">\r\n              <Nav.Link href=\"https://github.com/niku419\"><FontAwesomeIcon  icon={faGithub} color=\"#ffffff\" /></Nav.Link>\r\n              <Nav.Link href=\"https://linkedin.com/niku_419\"><FontAwesomeIcon  icon={faLinkedinIn}  color=\"#ffffff\"/></Nav.Link>\r\n              <Nav.Link href=\"https://instagram.com/_niku_419\"><FontAwesomeIcon  icon={faInstagram}  color=\"#ffffff\"/></Nav.Link>\r\n              <Nav.Link href=\"https://www.facebook.com/profile.php?id=100069976086066\"><FontAwesomeIcon icon={faFacebookF}  color=\"#ffffff\"/></Nav.Link>\r\n            </Nav>\r\n          </div>\r\n          {/* <Form inline>\r\n            <Nav className=\"mr-auto\"> \r\n              <Nav.Link>made for Hiku<FontAwesomeIcon color=\"#8d0101\" icon={faHeart} /></Nav.Link>\r\n            </Nav>\r\n          </Form> */}\r\n        </Navbar>\r\n\t\t\t</Container>\r\n    </Container>\r\n  )\r\n}","import React from 'react'\nimport './App.css'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport Gallery from './ReactFirebaseGallery/components/Gallery'\n\nfunction App() {\n\n  return (\n    <div>\n      <Gallery/>\n    </div>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}