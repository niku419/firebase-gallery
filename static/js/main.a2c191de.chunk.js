(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{49:function(e,t,a){},50:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(23),i=a.n(r),s=(a(49),a(50),a(51),a(39)),l=a(37),o=a.n(l),j=a(41),f=a(29),b=a(68),d=a(73),u=a(69),h=a(72),p=a(71),m=a(70),g=a(34),O=(a(63),a(62),g.a.initializeApp({apiKey:"AIzaSyAAgNfJiQfiYQC2Xa97t1rLIaVhUrCBChA",authDomain:"imagegallery-35cb3.firebaseapp.com",projectId:"imagegallery-35cb3",storageBucket:"imagegallery-35cb3.appspot.com",messagingSenderId:"264337640",appId:"1:264337640:web:ed54a9afbdd84b16ca715d",measurementId:"G-DV7SXF2KVD"}).firestore()),x=g.a.storage(),y={images:O.collection("images"),createdAt:g.a.firestore.FieldValue.serverTimestamp},v=a(24),k=a(42),w=a(28),N=a(5);function S(){var e=Object(c.useState)(null),t=Object(f.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(0),i=Object(f.a)(r,2),l=i[0],g=i[1],O=Object(c.useState)(null),S=Object(f.a)(O,2),A=S[0],I=S[1],L=Object(c.useState)([]),C=Object(f.a)(L,2),F=C[0],B=C[1],D=["image/png","image/jpeg","image/jpg"],_=y.images;return Object(c.useEffect)((function(){if(a){var e=x.ref(a.name);e.put(a).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;g(t)}),(function(e){I(e)}),Object(j.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getDownloadURL();case 2:return a=t.sent,t.next=5,y.images.add({url:a,createdAt:y.createdAt()});case 5:g(0);case 6:case"end":return t.stop()}}),t)}))))}}),[a]),Object(c.useEffect)((function(){return _.onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(s.a)(Object(s.a)({},e.data()),{},{id:e.id}))})),B(t),console.log(t)}))}),[_]),Object(N.jsxs)(b.a,{className:"py-3",children:[Object(N.jsxs)("h1",{className:"heading my-4",children:["React ",Object(N.jsx)("div",{className:"heading2",children:"Firebase Gallery"})]}),Object(N.jsxs)(b.a,{className:"d-flex justify-content-center flex-column",children:[Object(N.jsxs)("label",{className:"btn btn-primary",children:[Object(N.jsx)(v.a,{icon:k.a}),Object(N.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&D.includes(t.type)?(n(t),I("")):(n(null),I("Please select an image file (png or jpg)")),console.log(a)},style:{opacity:0,position:"absolute",left:"-9999px"}})]}),Object(N.jsx)("div",{className:"progress my-3",style:{height:"1px"},children:Object(N.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:l+"%"},"aria-valuenow":l+"%","aria-valuemin":"0","aria-valuemax":"100"})})]}),Object(N.jsxs)(b.a,{children:[A&&Object(N.jsx)(d.a,{varaint:"primary",children:"Some error occured in uploading images"}),F.length>0&&Object(N.jsx)("div",{className:"row",children:F.map((function(e){return Object(N.jsx)(u.a,{md:12,lg:4,children:Object(N.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:Object(N.jsx)(m.a.img,{src:e.url,alt:"firebase error",className:"img-fluid mb-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})})})}))})]}),Object(N.jsx)(b.a,{children:Object(N.jsxs)(h.a,{bg:"transparent",fixed:"bottom",variant:"light",className:"d-flex justify-content-between",children:[Object(N.jsx)("div",{children:Object(N.jsx)(h.a.Brand,{children:Object(N.jsx)("strong",{style:{color:"#05386b"},children:"Niku419"})})}),Object(N.jsx)("div",{children:Object(N.jsxs)(p.a,{className:"mr-auto",children:[Object(N.jsx)(p.a.Link,{href:"https://github.com/niku419",children:Object(N.jsx)(v.a,{icon:w.b,color:"#ffffff"})}),Object(N.jsx)(p.a.Link,{href:"https://linkedin.com/niku_419",children:Object(N.jsx)(v.a,{icon:w.d,color:"#ffffff"})}),Object(N.jsx)(p.a.Link,{href:"https://instagram.com/_niku_419",children:Object(N.jsx)(v.a,{icon:w.c,color:"#ffffff"})}),Object(N.jsx)(p.a.Link,{href:"https://www.facebook.com/profile.php?id=100069976086066",children:Object(N.jsx)(v.a,{icon:w.a,color:"#ffffff"})})]})})]})})]})}var A=function(){return Object(N.jsx)("div",{children:Object(N.jsx)(S,{})})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,74)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),r(e),i(e)}))};i.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(A,{})}),document.getElementById("root")),I()}},[[61,1,2]]]);
//# sourceMappingURL=main.a2c191de.chunk.js.map